import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.StringTokenizer;

public class Main {
	public static void main(String[] args) throws IOException {
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		
		int t = Integer.parseInt(br.readLine());
		for(int ti = 1 ; ti <= t ; ti++) {
			char[][] U = {{'w','w','w'},{'w','w','w'},{'w','w','w'}};
			char[][] D = {{'y','y','y'},{'y','y','y'},{'y','y','y'}};
			char[][] F = {{'r','r','r'},{'r','r','r'},{'r','r','r'}};
			char[][] B = {{'o','o','o'},{'o','o','o'},{'o','o','o'}};
			char[][] L = {{'g','g','g'},{'g','g','g'},{'g','g','g'}};
			char[][] R = {{'b','b','b'},{'b','b','b'},{'b','b','b'}};
			
			
			int n = Integer.parseInt(br.readLine());
			StringTokenizer st = new StringTokenizer(br.readLine());
			for(int ni = 0 ; ni < n ; ni++) {
				String cmd = st.nextToken();
				if(cmd.charAt(0) == 'L') {
					if(cmd.charAt(1) == '-') {
						char tmp = L[0][0]; L[0][0] = L[0][2]; L[0][2] = L[2][2]; L[2][2] = L[2][0]; L[2][0] = tmp;
						tmp = L[0][1]; L[0][1] = L[1][2]; L[1][2] = L[2][1]; L[2][1] = L[1][0]; L[1][0] = tmp;
						tmp = U[0][0]; U[0][0] = F[0][0]; F[0][0] = D[0][0]; D[0][0] = B[2][2]; B[2][2] = tmp;
						tmp = U[1][0]; U[1][0] = F[1][0]; F[1][0] = D[1][0]; D[1][0] = B[1][2]; B[1][2] = tmp;
						tmp = U[2][0]; U[2][0] = F[2][0]; F[2][0] = D[2][0]; D[2][0] = B[0][2]; B[0][2] = tmp;
					}
					else {
						char tmp = L[2][0]; L[2][0] = L[2][2]; L[2][2] = L[0][2]; L[0][2] = L[0][0]; L[0][0] = tmp;
						tmp = L[1][0]; L[1][0] = L[2][1]; L[2][1] = L[1][2]; L[1][2] = L[0][1]; L[0][1] = tmp;
						tmp = B[2][2]; B[2][2] = D[0][0]; D[0][0] = F[0][0]; F[0][0] = U[0][0]; U[0][0] = tmp;
						tmp = B[1][2]; B[1][2] = D[1][0]; D[1][0] = F[1][0]; F[1][0] = U[1][0]; U[1][0] = tmp;
						tmp = B[0][2]; B[0][2] = D[2][0]; D[2][0] = F[2][0]; F[2][0] = U[2][0]; U[2][0] = tmp;
					}
				}
				else if(cmd.charAt(0) == 'R') {
					if(cmd.charAt(1) == '-') {
						char tmp = R[0][0]; R[0][0] = R[0][2]; R[0][2] = R[2][2]; R[2][2] = R[2][0]; R[2][0] = tmp;
						tmp = R[0][1]; R[0][1] = R[1][2]; R[1][2] = R[2][1]; R[2][1] = R[1][0]; R[1][0] = tmp;
						tmp = B[2][0]; B[2][0] = D[0][2]; D[0][2] = F[0][2]; F[0][2] = U[0][2]; U[0][2] = tmp;
						tmp = B[1][0]; B[1][0] = D[1][2]; D[1][2] = F[1][2]; F[1][2] = U[1][2]; U[1][2] = tmp;
						tmp = B[0][0]; B[0][0] = D[2][2]; D[2][2] = F[2][2]; F[2][2] = U[2][2]; U[2][2] = tmp;
					}
					else {
						char tmp = R[2][0]; R[2][0] = R[2][2]; R[2][2] = R[0][2]; R[0][2] = R[0][0]; R[0][0] = tmp;
						tmp = R[1][0]; R[1][0] = R[2][1]; R[2][1] = R[1][2]; R[1][2] = R[0][1]; R[0][1] = tmp;
						tmp = U[0][2]; U[0][2] = F[0][2]; F[0][2] = D[0][2]; D[0][2] = B[2][0]; B[2][0] = tmp;
						tmp = U[1][2]; U[1][2] = F[1][2]; F[1][2] = D[1][2]; D[1][2] = B[1][0]; B[1][0] = tmp;
						tmp = U[2][2]; U[2][2] = F[2][2]; F[2][2] = D[2][2]; D[2][2] = B[0][0]; B[0][0] = tmp;
					}
				}
				else if(cmd.charAt(0) == 'U') {
					if(cmd.charAt(1) == '-') {
						char tmp = U[0][0]; U[0][0] = U[0][2]; U[0][2] = U[2][2]; U[2][2] = U[2][0]; U[2][0] = tmp;
						tmp = U[0][1]; U[0][1] = U[1][2]; U[1][2] = U[2][1]; U[2][1] = U[1][0]; U[1][0] = tmp;
						tmp = F[0][0]; F[0][0] = L[0][0]; L[0][0] = B[0][0]; B[0][0] = R[0][0]; R[0][0] = tmp;
						tmp = F[0][1]; F[0][1] = L[0][1]; L[0][1] = B[0][1]; B[0][1] = R[0][1]; R[0][1] = tmp;
						tmp = F[0][2]; F[0][2] = L[0][2]; L[0][2] = B[0][2]; B[0][2] = R[0][2]; R[0][2] = tmp;
					}
					else {
						char tmp = U[2][0]; U[2][0] = U[2][2]; U[2][2] = U[0][2]; U[0][2] = U[0][0]; U[0][0] = tmp;
						tmp = U[1][0]; U[1][0] = U[2][1]; U[2][1] = U[1][2]; U[1][2] = U[0][1]; U[0][1] = tmp;
						tmp = R[0][0]; R[0][0] = B[0][0]; B[0][0] = L[0][0]; L[0][0] = F[0][0]; F[0][0] = tmp;
						tmp = R[0][1]; R[0][1] = B[0][1]; B[0][1] = L[0][1]; L[0][1] = F[0][1]; F[0][1] = tmp;
						tmp = R[0][2]; R[0][2] = B[0][2]; B[0][2] = L[0][2]; L[0][2] = F[0][2]; F[0][2] = tmp;
					}
				}
				else if(cmd.charAt(0) == 'D') {
					if(cmd.charAt(1) == '-') {
						char tmp = D[0][0]; D[0][0] = D[0][2]; D[0][2] = D[2][2]; D[2][2] = D[2][0]; D[2][0] = tmp;
						tmp = D[0][1]; D[0][1] = D[1][2]; D[1][2] = D[2][1]; D[2][1] = D[1][0]; D[1][0] = tmp;
						tmp = R[2][0]; R[2][0] = B[2][0]; B[2][0] = L[2][0]; L[2][0] = F[2][0]; F[2][0] = tmp;
						tmp = R[2][1]; R[2][1] = B[2][1]; B[2][1] = L[2][1]; L[2][1] = F[2][1]; F[2][1] = tmp;
						tmp = R[2][2]; R[2][2] = B[2][2]; B[2][2] = L[2][2]; L[2][2] = F[2][2]; F[2][2] = tmp;
					}
					else {
						char tmp = D[2][0]; D[2][0] = D[2][2]; D[2][2] = D[0][2]; D[0][2] = D[0][0]; D[0][0] = tmp;
						tmp = D[1][0]; D[1][0] = D[2][1]; D[2][1] = D[1][2]; D[1][2] = D[0][1]; D[0][1] = tmp;
						tmp = F[2][0]; F[2][0] = L[2][0]; L[2][0] = B[2][0]; B[2][0] = R[2][0]; R[2][0] = tmp;
						tmp = F[2][1]; F[2][1] = L[2][1]; L[2][1] = B[2][1]; B[2][1] = R[2][1]; R[2][1] = tmp;
						tmp = F[2][2]; F[2][2] = L[2][2]; L[2][2] = B[2][2]; B[2][2] = R[2][2]; R[2][2] = tmp;
					}
				}
				else if(cmd.charAt(0) == 'F') {
					if(cmd.charAt(1) == '-') {
						char tmp = F[0][0]; F[0][0] = F[0][2]; F[0][2] = F[2][2]; F[2][2] = F[2][0]; F[2][0] = tmp;
						tmp = F[0][1]; F[0][1] = F[1][2]; F[1][2] = F[2][1]; F[2][1] = F[1][0]; F[1][0] = tmp;
						tmp = U[2][0]; U[2][0] = R[0][0]; R[0][0] = D[0][2]; D[0][2] = L[2][2]; L[2][2] = tmp;
						tmp = U[2][1]; U[2][1] = R[1][0]; R[1][0] = D[0][1]; D[0][1] = L[1][2]; L[1][2] = tmp;
						tmp = U[2][2]; U[2][2] = R[2][0]; R[2][0] = D[0][0]; D[0][0] = L[0][2]; L[0][2] = tmp;
					}
					else {
						char tmp = F[2][0]; F[2][0] = F[2][2]; F[2][2] = F[0][2]; F[0][2] = F[0][0]; F[0][0] = tmp;
						tmp = F[1][0]; F[1][0] = F[2][1]; F[2][1] = F[1][2]; F[1][2] = F[0][1]; F[0][1] = tmp;
						tmp = L[2][2]; L[2][2] = D[0][2]; D[0][2] = R[0][0]; R[0][0] = U[2][0]; U[2][0] = tmp;
						tmp = L[1][2]; L[1][2] = D[0][1]; D[0][1] = R[1][0]; R[1][0] = U[2][1]; U[2][1] = tmp;
						tmp = L[0][2]; L[0][2] = D[0][0]; D[0][0] = R[2][0]; R[2][0] = U[2][2]; U[2][2] = tmp;
					}
				}
				else if(cmd.charAt(0) == 'B') {
					if(cmd.charAt(1) == '-') {
						char tmp = B[0][0]; B[0][0] = B[0][2]; B[0][2] = B[2][2]; B[2][2] = B[2][0]; B[2][0] = tmp;
						tmp = B[0][1]; B[0][1] = B[1][2]; B[1][2] = B[2][1]; B[2][1] = B[1][0]; B[1][0] = tmp;
						tmp = L[0][0]; L[0][0] = D[2][0]; D[2][0] = R[2][2]; R[2][2] = U[0][2]; U[0][2] = tmp;
						tmp = L[1][0]; L[1][0] = D[2][1]; D[2][1] = R[1][2]; R[1][2] = U[0][1]; U[0][1] = tmp;
						tmp = L[2][0]; L[2][0] = D[2][2]; D[2][2] = R[0][2]; R[0][2] = U[0][0]; U[0][0] = tmp;
					}
					else {
						char tmp = B[2][0]; B[2][0] = B[2][2]; B[2][2] = B[0][2]; B[0][2] = B[0][0]; B[0][0] = tmp;
						tmp = B[1][0]; B[1][0] = B[2][1]; B[2][1] = B[1][2]; B[1][2] = B[0][1]; B[0][1] = tmp;
						tmp = U[0][2]; U[0][2] = R[2][2]; R[2][2] = D[2][0]; D[2][0] = L[0][0]; L[0][0] = tmp;
						tmp = U[0][1]; U[0][1] = R[1][2]; R[1][2] = D[2][1]; D[2][1] = L[1][0]; L[1][0] = tmp;
						tmp = U[0][0]; U[0][0] = R[0][2]; R[0][2] = D[2][2]; D[2][2] = L[2][0]; L[2][0] = tmp;
					}
				}
				
			}
			
			
			
			for(int r = 0 ; r < 3 ; r++) {
				for(int c = 0 ; c < 3 ; c++) {
					System.out.print(U[r][c]);
				}
				System.out.println();
			}
		}
		
	}
}
